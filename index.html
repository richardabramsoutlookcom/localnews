<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local News</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Local News</h1>
        <p class="subtitle">News near <span id="location-name">G77 5PG</span></p>
        <p class="update-time">Last updated: <span id="update-time"></span></p>
    </header>

    <main>
        <!-- Home Location Panel -->
        <div class="home-location-panel">
            <div class="home-display" id="home-display">
                <div class="home-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </div>
                <div class="home-info">
                    <span class="home-label">Home Location</span>
                    <span class="home-postcode" id="home-postcode-display">G77 5PG</span>
                    <span class="home-area" id="home-area-display">Newton Mearns</span>
                </div>
                <button class="change-home-btn" id="change-home-btn">Change</button>
            </div>
            <div class="home-edit" id="home-edit" style="display: none;">
                <label for="postcode-input">Set your home postcode:</label>
                <div class="postcode-input-wrapper">
                    <input type="text" id="postcode-input" placeholder="e.g. G77 5PG" value="G77 5PG">
                    <button id="set-location-btn">Save</button>
                    <button id="cancel-edit-btn" class="cancel-btn">Cancel</button>
                </div>
                <p class="postcode-status" id="postcode-status"></p>
            </div>
        </div>

        <!-- Weather Section -->
        <div class="weather-section" id="weather-section">
            <div class="weather-header" id="weather-header">
                <div class="weather-summary">
                    <span class="weather-summary-icon" id="weather-summary-icon">--</span>
                    <span class="weather-summary-temp" id="weather-summary-temp">--°C</span>
                    <span class="weather-summary-desc" id="weather-summary-desc">Loading...</span>
                </div>
                <div class="weather-toggle">
                    <span class="weather-toggle-text" id="weather-toggle-text">Show details</span>
                    <svg class="weather-chevron" id="weather-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
            </div>
            <div class="weather-loading" id="weather-loading" style="display: none;">
                <div class="weather-spinner"></div>
                <span>Loading weather...</span>
            </div>
            <div class="weather-content" id="weather-content" style="display: none;">
                <div class="weather-current">
                    <div class="weather-main">
                        <div class="weather-icon" id="weather-icon"></div>
                        <div class="weather-temp">
                            <span class="temp-value" id="temp-value">--</span>
                            <span class="temp-unit">°C</span>
                        </div>
                        <div class="weather-description" id="weather-description">--</div>
                    </div>
                    <div class="weather-location">
                        <span id="weather-location-name">--</span>
                    </div>
                </div>
                <div class="weather-details">
                    <div class="weather-detail">
                        <div class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <span class="detail-label">Feels Like</span>
                            <span class="detail-value" id="feels-like">--°C</span>
                        </div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <span class="detail-label">Humidity</span>
                            <span class="detail-value" id="humidity">--%</span>
                        </div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <span class="detail-label">Wind</span>
                            <span class="detail-value" id="wind-speed">-- mph</span>
                        </div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <span class="detail-label">UV Index</span>
                            <span class="detail-value" id="uv-index">--</span>
                        </div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"></path>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <span class="detail-label">Cloud Cover</span>
                            <span class="detail-value" id="cloud-cover">--%</span>
                        </div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                            </svg>
                        </div>
                        <div class="detail-info">
                            <span class="detail-label">Pressure</span>
                            <span class="detail-value" id="pressure">-- hPa</span>
                        </div>
                    </div>
                </div>
                <div class="weather-sun">
                    <div class="sun-time">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 18a5 5 0 0 0-10 0"></path>
                            <line x1="12" y1="9" x2="12" y2="2"></line>
                            <line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line>
                            <line x1="1" y1="18" x2="3" y2="18"></line>
                            <line x1="21" y1="18" x2="23" y2="18"></line>
                            <line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line>
                        </svg>
                        <span>Sunrise: <strong id="sunrise">--:--</strong></span>
                    </div>
                    <div class="sun-time">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 18a5 5 0 0 0-10 0"></path>
                            <line x1="12" y1="2" x2="12" y2="9"></line>
                            <line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line>
                            <line x1="1" y1="18" x2="3" y2="18"></line>
                            <line x1="21" y1="18" x2="23" y2="18"></line>
                            <line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line>
                        </svg>
                        <span>Sunset: <strong id="sunset">--:--</strong></span>
                    </div>
                </div>
                <div class="weather-forecast">
                    <h3>5-Day Forecast</h3>
                    <div class="forecast-container" id="forecast-container">
                        <!-- Forecast items will be inserted here -->
                    </div>
                </div>
                <div class="weather-hourly">
                    <h3>Next 24 Hours</h3>
                    <div class="hourly-container" id="hourly-container">
                        <!-- Hourly items will be inserted here -->
                    </div>
                </div>
            </div>
            <div class="weather-error" id="weather-error" style="display: none;">
                <span>Unable to load weather data</span>
                <button id="retry-weather-btn">Retry</button>
            </div>
        </div>

        <!-- Settings Panel -->
        <div class="settings-panel">
            <div class="setting-group">
                <label for="radius-slider">Search Radius: <span id="radius-value">10</span> miles</label>
                <input type="range" id="radius-slider" min="1" max="25" value="10" step="1">
                <div class="radius-labels">
                    <span>1 mi</span>
                    <span>25 mi</span>
                </div>
            </div>
        </div>

        <div class="controls">
            <label for="category-filter">Filter by category:</label>
            <select id="category-filter">
                <option value="all">All News</option>
                <option value="crime">Crime & Safety</option>
                <option value="traffic">Traffic & Transport</option>
                <option value="community">Community</option>
                <option value="events">Events</option>
                <option value="business">Business</option>
                <option value="council">Council & Government</option>
            </select>
            <span class="news-count" id="news-count"></span>
        </div>

        <div id="news-container">
            <!-- News items will be inserted here -->
        </div>
    </main>

    <footer>
        <p>News sourced from local Glasgow publications</p>
        <p>Distances calculated from <span id="footer-location">G77 5PG</span></p>
    </footer>

    <script src="app.js"></script>
</body>
</html>
